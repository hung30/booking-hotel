<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form
      id="uploadForm"
      action="http://localhost:3000/hotel/new-hotel"
      method="POST"
      enctype="multipart/form-data"
    >
      <div>
        <label for="namehotel">Name of Hotel:</label>
        <input type="text" id="namehotel" name="namehotel" required />
      </div>
      <div>
        <label for="image">Select Image:</label>
        <input type="file" id="image" name="image" accept="image/*" required />
      </div>
      <button type="submit">Upload</button>
    </form>
    <script>
      async function update() {
        try {
          const namehotel = await document.getElementById("namehotel").value;
          const image = await document.getElementById("image").files[0];
          console.log(image);
          // const data = new FormData();
          // data.append("namehotel", namehotel);
          // data.append("image", image);
          // console.log(data);

          const data = {
            namehotel: namehotel,
            image: image,
          };
          const data1 = await fetch("http://localhost:3000/hotel/new-hotel", {
            method: "POST",
            body: JSON.stringify(data),
            headers: {
              "Content-Type": "application/json",
              "Access-Control-Allow-Credentials": "true",
            },
          });
          if (!data1) {
            alert("them that bai");
          }
        } catch (error) {
          console.log(error);
        }
      }
    </script>
  </body>
</html>
